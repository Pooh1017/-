<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏û‡∏™‡∏ï‡πå - Pet Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß -->
    <header class="py-3 mb-4 border-bottom">
        <div class="container d-flex flex-wrap justify-content-between">
            <a href="4‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å.html" class="text-decoration-none">
                <h2 class="text-primary">Pet Shop</h2>
            </a>
            <a href="4‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å.html" class="btn btn-secondary">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
        </div>
    </header>

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏û‡∏™‡∏ï‡πå -->
    <div class="container">
        <div id="postDetail" class="card p-4 shadow-sm">
            <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
        </div>
    </div>

    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô -->
    <div id="userEmailDisplay" class="container mt-3">
        <!-- ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
    </div>

    <script>
        // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏≤‡∏Å URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏û‡∏™‡∏ï‡πå
        function loadPostDetail() {
            const postId = getQueryParam('id');
            const posts = JSON.parse(localStorage.getItem('posts')) || [];
            const userEmail = localStorage.getItem('userEmail'); // ‡∏î‡∏∂‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏à‡∏≤‡∏Å localStorage

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            if (postId !== null && posts[postId]) {
                const post = posts[postId];
                const postDetail = document.getElementById('postDetail');

                let postHTML = `
                    <h3 class="text-primary">${post.species} - ${post.breed}</h3>
                    <p><strong>‡∏≠‡∏≤‡∏¢‡∏∏:</strong> ${post.age} ‡∏õ‡∏µ</p>
                    <p><strong>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î:</strong> ${post.province}</p>
                    <p><strong>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô:</strong> ${post.vaccinationHistory}</p>
                    <p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤:</strong> <span class="text-success">${post.price} ‡∏ö‡∏≤‡∏ó</span></p>
                    <p><small>‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÇ‡∏î‡∏¢: ${post.userName || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏"} | ${new Date(post.date).toLocaleString()}</small></p>
                `;

                // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
                if (post.images && post.images.length > 0) {
                    postHTML += `<div class="mt-3"><h5>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h5>`;
                    post.images.forEach(image => {
                        postHTML += `<img src="${image}" class="img-fluid rounded mb-3" style="max-width: 500px; max-height: 500px; object-fit: contain;">`;
                    });
                    postHTML += `</div>`;
                }

                // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
                if (post.email || post.phone) {
                    postHTML += `
                        <div class="mt-3">
                            <p><strong>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏û‡∏™‡∏ï‡πå:</strong></p>
                            ${post.email ? `<p>‡∏≠‡∏µ‡πÄ‡∏°‡∏•: <a href="mailto:${post.email}">${post.email}</a></p>` : ""}
                            ${post.phone ? `<p>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£: <a href="tel:${post.phone}">${post.phone}</a></p>` : ""}
                            <div>
                                ${post.email ? `<a href="mailto:${post.email}" class="btn btn-primary">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•</a>` : ""}
                                ${post.phone ? `<a href="tel:${post.phone}" class="btn btn-primary ml-2">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏≤‡∏á‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</a>` : ""}
                            </div>
                        </div>
                    `;
                }

                // ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
                if (userEmail) {
                    postHTML += `<div class="mt-3"><p><strong>‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</strong> ${userEmail}</p></div>`;
                }

                postDetail.innerHTML = postHTML;
            } else {
                document.getElementById('postDetail').innerHTML = "<p class='text-danger'>‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡∏µ‡πâ</p>";
            }

            // ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
            if (userEmail) {
                document.getElementById("userEmailDisplay").innerText = `‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•: ${userEmail}`;
            } else {
                document.getElementById("userEmailDisplay").innerText = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô";
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
        document.addEventListener("DOMContentLoaded", loadPostDetail);
    </script>

    <!-- ‡πÉ‡∏™‡πà JavaScript ‡∏Ç‡∏≠‡∏á Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <div class="contact-container">
        <a href="mailto:example@email.com" class="contact-button">üìß ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•</a>
        <a href="" class="contact-button">üìû ‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a>
        </div>
        <style>
           .contact-container {
               text-align: center;
               margin-top: 20px;
           }
           .contact-button {
               display: inline-block;
               padding: 12px 20px;
               font-size: 16px;
               color: white;
               background-color: #007bff;
               text-decoration: none;
               border-radius: 5px;
               font-weight: bold;
               margin: 5px;
               transition: 0.3s;
           }
           .contact-button:hover {
               background-color: #0056b3;
           }
        </style>

        
</body>
</html>
